---
// Get the sidebar data from Starlight
const { sidebar } = Astro.locals.starlightRoute;
---

<nav style="
  padding: 40px;
  background: #1F1F1F;
  height: 100%;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 20px;
">
  {sidebar.map((group, groupIndex) => (
    <details open style="display: flex; flex-direction: column;">
      <summary style="
        cursor: pointer;
        list-style: none;
        user-select: none;
        display: flex;
        padding: 4px 0;
        align-items: center;
        width: 100%;
        height: 20px;
      ">
        <button-v1 
          bold 
          no-background
        >
          {group.label}
        </button-v1>
      </summary>
      
      <ul style="
        list-style: none;
        display: flex;
        flex-direction: column;
        padding-left: 20px;
        gap: 0px;
       

      " data-first-two={groupIndex < 2}>
        {group.entries.map((entry) => {
          const isFirstTwo = groupIndex < 2;
          return (
            <li style=" height: 20px;">
              {isFirstTwo ? (
                <a href={entry.href}">
                  <button-v1
                    no-background
                    aria-current={entry.isCurrent ? 'page' : undefined}
                    style={`--button-color: ${entry.isCurrent ? 'var(--accent-color)' : 'rgba(255, 255, 255, 0.85)'}; width: 100%; text-align: left; cursor: pointer; transition: color 0.2s ease;`}
                  >
                    {entry.label}
                  </button-v1>
                </a>
              ) : (
                <a href={entry.href} style="text-decoration: none; display: block; display: flex; gap: 4px;">
                  <button-v1
                    variant={entry.isCurrent ? 'primary' : 'secondary'}
                    aria-current={entry.isCurrent ? 'page' : undefined}
                  >
                    {entry.label}
                  </button-v1>
                </a>
              )}
            </li>
          );
        })}
      </ul>
    </details>
  ))}


</nav>
<style>
  summary::-webkit-details-marker {
    display: none;
  }

  details[open] summary button-v1 {
    color: #F1F1F1 !important;
  }

  /* First two groups always have 20px padding */
  ul[data-first-two="true"] {
    padding-left: 20px !important;
  }

  /* Remove padding-left for lists with variant buttons (Components section) */
  ul:has(button-v1[variant]) {
    padding-left: 0 !important;
  }
</style>

