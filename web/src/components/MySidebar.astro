---
// Get the sidebar data from Starlight
const { sidebar } = Astro.locals.starlightRoute;
---

<nav style="
  padding: 1rem;
  background: #1F1F1F;
  height: 100%;
  overflow-y: auto;
">
  {sidebar.map((group, groupIndex) => (
    <details open style="margin-bottom: 1rem; display: flex; flex-direction: column; gap: 10px">
      <summary style="
        cursor: pointer;
        list-style: none;
        user-select: none;
        display: flex;
        flex-direction: column;
        gap: 70px;
      ">
        {group.label}
      </summary>
      
      <ul style="
        list-style: none;
      ">
        {group.entries.map((entry) => (
          <li style="margin: 0;">
            {groupIndex < 2 ? (
              <a 
                href={entry.href}
                aria-current={entry.isCurrent ? 'page' : undefined}
                style={`
                  display: block;
                  padding: 0.5rem 0.75rem;
                  color: ${entry.isCurrent ? 'lightgreen' : 'rgba(255, 255, 255, 0.85)'};
                  text-decoration: none;
                `}
              >
                {entry.label}
              </a>
            ) : (
              <a href={entry.href} style="text-decoration: none; display: block;">
                <button-v1
                  variant={entry.isCurrent ? 'primary' : 'secondary'}
                  aria-current={entry.isCurrent ? 'page' : undefined}
                  style={`
                    width: 100%;
                    text-align: left;
                    font-size: 0.9375rem;
                    border: none;
                    padding-left: ${entry.isCurrent ? '0.6875rem' : '0.75rem'};
                    cursor: pointer;
                  `}
                >
                  {entry.label}
                </button-v1>
              </a>
            )}
          </li>
        ))}
      </ul>
    </details>
  ))}


</nav>
<style>
  summary::-webkit-details-marker {
    display: none;
  }


  details[open] summary {
    color: #FFF !important;
  }
</style>

